{% extends "base.html" %}

{% block content %}
    <h2>Your Tasks</h2>

    {% if tasks %}
        <ul>
            {% for task in tasks %}
                <li>
                    {{ task.title }} - {% if task.is_done %}✅ Done{% else %}❌ Not Done{% endif %}
                    <a href="{% url 'task-update' task.pk %}">Edit</a>
                    <a href="{% url 'task-delete' task.pk %}">Delete</a>

                    {% if not task.is_done %}
                        <form action="{% url 'task-done' task.pk %}" method="post" style="display:inline;">
                            {% csrf_token %}
                            <button type="submit">Mark as Done</button>
                        </form>
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No tasks available.</p>
    {% endif %}

    <a href="{% url 'task-create' %}">+ Add New Task</a>
{% endblock %}
